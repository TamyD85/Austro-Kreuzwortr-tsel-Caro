<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KreuzwortrÃ¤tsel â€“ Austropop (1985â€“2020) + Lebensfreude</title>
  <style>
    :root{
      --bg:#ffffff; --panel:#f9fafb; --ink:#111111; --muted:#4b5563; --accent:#7c3aed; --ok:#22c55e; --warn:#f59e0b; --bad:#ef4444;
      --cell:#f3f4f6; --cell-alt:#e5e7eb; --grid:#d1d5db; --num:#6b7280; --focus:#7c3aed; --link:#4f46e5;
    }
    html,body{height:100%;}
    body{margin:0; background:var(--bg); color:var(--ink); font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Noto Sans';}
    .wrap{max-width:1200px;margin:24px auto;padding:16px;display:grid;gap:16px;grid-template-columns: 1.2fr 1fr;}
    header{grid-column:1/-1; display:flex; gap:16px; align-items:center; justify-content:space-between}
    h1{font-size:clamp(22px,3.2vw,30px);margin:.2rem 0;}
    .subtitle{color:var(--muted); font-size:14px}
    .card{background:var(--panel);border:1px solid #e5e7eb;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.05)}
    .grid{padding:12px}
    .toolbar{display:flex; gap:8px; flex-wrap:wrap; align-items:center; padding:12px; border-top:1px solid #e5e7eb;}
    button, .btn{background:var(--cell);border:1px solid #d1d5db;color:var(--ink);padding:10px 12px;border-radius:12px;cursor:pointer}
    button:hover{border-color:#9ca3af}
    .accent{background:linear-gradient(180deg,#7c3aed,#6d28d9); border-color:#5b21b6; color:#fff}
    .ok{background:#dcfce7;border-color:#16a34a;color:#065f46}
    .warn{background:#fef9c3;border-color:#eab308;color:#713f12}
    .bad{background:#fee2e2;border-color:#b91c1c;color:#7f1d1d}
    .board{display:grid; gap:2px; background:var(--grid); padding:2px; border-radius:12px; overflow:auto; max-height:min(74vh,900px)}
    .cell{width:28px;height:28px; background:var(--cell); position:relative; display:grid; place-items:center; font-weight:600; border-radius:4px}
    .cell:nth-child(2n){background:var(--cell-alt)}
    .cell input{width:100%;height:100%; border:none; outline:none; background:transparent; text-transform:uppercase; text-align:center; color:var(--ink); font:600 16px/1 monospace;}
    .block{background:#111111}
    .num{position:absolute; top:2px; left:4px; font-size:10px; color:var(--num)}
    .current{box-shadow:0 0 0 2px var(--focus) inset}
    .highlight{box-shadow:0 0 0 2px rgba(124,58,237,.45) inset}
    .pane{display:flex; flex-direction:column}
    .clues{padding:12px; display:grid; grid-template-columns:1fr; gap:8px; max-height:calc(74vh - 48px); overflow:auto}
    details{border:1px solid #e5e7eb; background:#fff; border-radius:12px}
    summary{cursor:pointer; padding:10px 12px; list-style:none;}
    summary::-webkit-details-marker{display:none}
    .clue-list{padding:8px 12px 12px 12px; display:grid; gap:8px}
    .clue{padding:8px 10px; border:1px solid #e5e7eb; border-radius:10px; cursor:pointer; background:#fafafa}
    .clue:hover{border-color:#9ca3af}
    .clue .n{color:var(--num); margin-right:8px}
    .meta{display:flex; gap:10px; align-items:center; color:var(--muted); font-size:13px}
    .footer{grid-column:1/-1; color:var(--muted); font-size:12px; display:flex; justify-content:space-between; padding:8px 4px}
    @media (max-width: 980px){ .wrap{grid-template-columns:1fr} .board{max-height:60vh} }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>KreuzwortrÃ¤tsel Â· Austropop (1985â€“2020)</h1>
        <div class="subtitle">Bekannte Acts & Songs â€“ plus Mini-Thema: <strong>Lebensfreude</strong>.</div>
      </div>
      <div class="meta">
        <span>ðŸ‘¥ FÃ¼r Desktop & Mobil</span>
        <span>ðŸ§© AutoprÃ¼fung & Aufdecken</span>
      </div>
    </header>

    <section class="card grid">
      <div id="board" class="board"></div>
      <div class="toolbar">
        <button id="btnCheck" class="ok">Antworten prÃ¼fen</button>
        <button id="btnRevealLetter" class="warn">Buchstabe zeigen</button>
        <button id="btnRevealWord" class="warn">Wort lÃ¶sen</button>
        <button id="btnClear" class="bad">Alles lÃ¶schen</button>
        <button id="btnShare" class="accent">Link kopieren</button>
        <span id="status" style="margin-left:auto;color:var(--muted)">Viel SpaÃŸ! ðŸŽµ</span>
      </div>
    </section>

    <aside class="card pane">
      <div class="clues">
        <details open>
          <summary>Waagrecht</summary>
          <div id="cluesAcross" class="clue-list"></div>
        </details>
        <details open>
          <summary>Senkrecht</summary>
          <div id="cluesDown" class="clue-list"></div>
        </details>
      </div>
    </aside>

    <div class="footer">
      <div>Â© 2025 â€“ Privatnutzer:in. RÃ¤tsel lÃ¤sst sich frei hosten (GitHub Pages/Netlify etc.).</div>
      <div><a href="#" id="btnExport" class="btn" style="text-decoration:none;color:var(--link)">ðŸ”½ Fortschritt exportieren</a></div>
    </div>
  </div>

  <script>
    // ========= Daten =========
    const RAW_ENTRIES = [
      // Acts
      { answer: 'Falco', clue: 'Austropop-Ikone; u. a. â€žRock Me Amadeusâ€œ.' },
      { answer: 'EAV', clue: 'Erste Allgemeine Verunsicherung (Satire-Kultband).' },
      { answer: 'Fendrich', clue: 'Rainhard ____; â€žMacho Machoâ€œ, â€žI Am From Austriaâ€œ.' },
      { answer: 'Ambros', clue: 'Wolfgang ____; Austropop-Pionier.' },
      { answer: 'STS', clue: 'Trio hinter â€žFÃ¼rstenfeldâ€œ.' },
      { answer: 'Wanda', clue: 'â€žBolognaâ€œ, â€žBussi Babyâ€œ.' },
      { answer: 'Bilderbuch', clue: 'â€žMaschinâ€œ, â€žBungalowâ€œ.' },
      { answer: 'Seiler und Speer', clue: 'Duo (â€žHam kummstâ€œ).' },
      { answer: 'Josh', clue: 'â€žCordula GrÃ¼nâ€œ.' },
      { answer: 'Pizzera und Jaus', clue: 'Kabarett-Pop-Duo seit 2016.' },
      { answer: 'Christina StÃ¼rmer', clue: 'ChartstÃ¼rmerin ab 2003.' },
      { answer: 'Granada', clue: 'Grazer Dialekt-Indie.' },
      { answer: 'Voodoo JÃ¼rgens', clue: 'Wiener Lied â€“ schwarzer Humor.' },
      { answer: 'TagtrÃ¤umer', clue: 'Austropop-Newcomer der 2010er.' },
      { answer: 'KrautschÃ¤dl', clue: 'OÃ–-Rock-Trio (ab 2003).' },
      { answer: 'Garish', clue: 'Indie/Pop aus dem Burgenland.' },
      { answer: 'Kreisky', clue: 'Wiener Indie-Rock mit politischem Touch.' },
      { answer: 'Der Nino aus Wien', clue: 'Wiener SchmÃ¤h seit den 2000ern.' },
      { answer: 'Die Seer', clue: 'Volksnaher Austropop.' },
      { answer: 'Edmund', clue: 'Wiener Duo (â€žFreindschoftâ€œ).' },
      { answer: 'Opus', clue: 'Steirische Band (â€žLive Is Lifeâ€œ).' },
      { answer: 'Parov Stelar', clue: 'Electro-Swing aus Linz.' },
      { answer: 'Buntspecht', clue: 'Folk-Pop aus Wien (2010er).' },
      { answer: 'Hubert von Goisern', clue: 'Alpenrock; â€žBrenna tuats guatâ€œ.' },
      // Songs 1985â€“2020
      { answer: 'Rock Me Amadeus', clue: 'Falco â€“ 1985/86 Nr-1.' },
      { answer: 'Jeanny', clue: 'Falco â€“ kontroverser Hit.' },
      { answer: 'Macho Macho', clue: 'Rainhard Fendrich â€“ 1988.' },
      { answer: 'I Am From Austria', clue: 'Fendrich â€“ inoffizielle Hymne.' },
      { answer: 'FÃ¼rstenfeld', clue: 'STS â€“ Sehnsuchtshymne.' },
      { answer: 'Ham kummst', clue: 'Seiler und Speer â€“ Dialekt-Ohrwurm.' },
      { answer: 'Cordula GrÃ¼n', clue: 'Josh. â€“ 2018.' },
      { answer: 'Maschin', clue: 'Bilderbuch â€“ 2013.' },
      { answer: 'Bungalow', clue: 'Bilderbuch â€“ 2017.' },
      { answer: 'Bologna', clue: 'Wanda â€“ 2014.' },
      { answer: 'Bussi Baby', clue: 'Wanda â€“ 2015.' },
      { answer: 'Ich lebe', clue: 'Christina StÃ¼rmer â€“ 2003.' },
      { answer: 'Engel fliegen einsam', clue: 'Christina StÃ¼rmer â€“ 2005.' },
      { answer: 'MÃ¤rchenprinz', clue: 'EAV â€“ 1988.' },
      { answer: 'Ba-Ba-BankÃ¼berfall', clue: 'EAV â€“ 1985.' },
      { answer: 'KÃ¼ss die Hand schÃ¶ne Frau', clue: 'EAV â€“ spÃ¤te 80er.' },
      { answer: 'Brenna tuats guat', clue: 'Hubert von Goisern â€“ 2011.' },
      { answer: 'Freindschoft', clue: 'Edmund â€“ 2018.' },
      { answer: 'Wilds Wossa', clue: 'Die Seer â€“ 2002.' },
      { answer: 'Ottakring', clue: 'Granada â€“ 2016.' },
      // Mini-Thema Lebensfreude
      { answer: 'Lebensfreude', clue: 'Ãœbergeordnetes Thema.' },
      { answer: 'Tanzen', clue: 'Bewegung zur Musik.' },
      { answer: 'Sommer', clue: 'Open-Air-Zeit.' },
      { answer: 'Gemeinsam', clue: 'So machtâ€™s am meisten SpaÃŸ.' },
      { answer: 'Heiterkeit', clue: 'Gute Laune in einem Wort.' },
    ];

    // ========= Helfer =========
    const norm = s => s
      .replace(/[Ã„Ã¤]/g,'AE').replace(/[Ã–Ã¶]/g,'OE').replace(/[ÃœÃ¼]/g,'UE').replace(/ÃŸ/g,'SS')
      .replace(/[^A-Z0-9]/gi,'').toUpperCase();

    const entries = RAW_ENTRIES.map((e,i)=>({id:i+1, raw:e.answer, answer:norm(e.answer), clue:e.clue}))
      .filter(e=>e.answer.length>=3);

    function shuffle(a){ for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]} return a; }

    // ========= Grid & Generator =========
    const W=33,H=33;
    const grid = Array.from({length:H},()=>Array.from({length:W},()=>({ch:'#',block:false,cell:null,num:0})));

    function canPlace(word,r,c,dir){
      if(dir==='across'){
        if(c<0||c+word.length>W) return false;
        if(c>0 && grid[r][c-1].ch!=='#') return false;
        if(c+word.length<W && grid[r][c+word.length].ch!=='#') return false;
        for(let i=0;i<word.length;i++){
          const g=grid[r][c+i];
          if(g.ch!=='#' && g.ch!==word[i]) return false;
          if(g.ch==='#'){
            if(r>0 && grid[r-1][c+i].ch!=='#') return false;
            if(r+1<H && grid[r+1][c+i].ch!=='#') return false;
          }
        }
        return true;
      }else{
        if(r<0||r+word.length>H) return false;
        if(r>0 && grid[r-1][c].ch!=='#') return false;
        if(r+word.length<H && grid[r+word.length][c].ch!=='#') return false;
        for(let i=0;i<word.length;i++){
          const g=grid[r+i][c];
          if(g.ch!=='#' && g.ch!==word[i]) return false;
          if(g.ch==='#'){
            if(c>0 && grid[r+i][c-1].ch!=='#') return false;
            if(c+1<W && grid[r+i][c+1].ch!=='#') return false;
          }
        }
        return true;
      }
    }
    function placeWord(word,r,c,dir){ for(let i=0;i<word.length;i++){ const rr=r+(dir==='down'?i:0), cc=c+(dir==='across'?i:0); grid[rr][cc].ch=word[i]; } }
    function tryPlaceWithCrossings(word){
      const letters=[...word]; const candidates=[];
      for(let r=0;r<H;r++)for(let c=0;c<W;c++){
        const g=grid[r][c]; if(g.ch==='#') continue;
        for(let i=0;i<letters.length;i++){
          if(g.ch===letters[i]){
            const ca=c-i; if(ca>=0 && ca+word.length<=W && canPlace(word,r,ca,'across')) candidates.push({r,c:ca,dir:'across',score:2});
            const rd=r-i; if(rd>=0 && rd+word.length<=H && canPlace(word,rd,c,'down')) candidates.push({r:rd,c,dir:'down',score:2});
          }
        }
      }
      for(let r=0;r<H;r++)for(let c=0;c<W;c++){
        if(canPlace(word,r,c,'across')) candidates.push({r,c,dir:'across',score:1});
        if(canPlace(word,r,c,'down')) candidates.push({r,c,dir:'down',score:1});
      }
      if(!candidates.length) return null;
      const centerBias=p=>-(Math.abs(p.r-H/2)+Math.abs(p.c-W/2));
      candidates.sort((a,b)=> (b.score-a.score) || (centerBias(b)-centerBias(a)));
      return candidates[0];
    }

    function generate(){
      const words=shuffle(entries.slice()).sort((a,b)=>b.answer.length-a.answer.length);
      const seed=words.shift();
      const startC=Math.max(0,Math.floor((W-seed.answer.length)/2));
      placeWord(seed.answer,Math.floor(H/2),startC,'across'); seed.placed={r:Math.floor(H/2),c:startC,dir:'across'};
      const unplaced=[];
      for(const w of words){
        const pos=tryPlaceWithCrossings(w.answer);
        if(pos){ placeWord(w.answer,pos.r,pos.c,pos.dir); w.placed=pos; } else unplaced.push(w);
      }
      for(let r=0;r<H;r++)for(let c=0;c<W;c++) if(grid[r][c].ch==='#') grid[r][c].block=true;

      // Nummerieren & Clues bauen
      let n=1; const acrossClues=[], downClues=[];
      const isLetter=(r,c)=> r>=0&&c>=0&&r<H&&c<W && grid[r][c].ch && grid[r][c].ch!=='#';
      for(let r=0;r<H;r++){
        for(let c=0;c<W;c++){
          if(!isLetter(r,c)) continue;
          const startAcross=(!isLetter(r,c-1) && isLetter(r,c+1));
          const startDown  =(!isLetter(r-1,c) && isLetter(r+1,c));
          if(startAcross||startDown) grid[r][c].num=n;
          if(startAcross){
            let cc=c, ans=''; while(isLetter(r,cc)){ ans+=grid[r][cc].ch; cc++; }
            const item=entries.find(e=>e.answer===ans);
            acrossClues.push({num:n, answer:ans, clue:item?.clue||'(thematisch)'});
          }
          if(startDown){
            let rr=r, ans=''; while(isLetter(rr,c)){ ans+=grid[rr][c].ch; rr++; }
            const item=entries.find(e=>e.answer===ans);
            downClues.push({num:n, answer:ans, clue:item?.clue||'(thematisch)'});
          }
          if(startAcross||startDown) n++;
        }
      }
      return {acrossClues,downClues,unplaced};
    }

    // ========= Render =========
    const boardEl=document.getElementById('board');
    function renderBoard(){
      boardEl.style.gridTemplateColumns=`repeat(${W},28px)`; boardEl.innerHTML='';
      for(let r=0;r<H;r++){
        for(let c=0;c<W;c++){
          const g=grid[r][c];
          const cell=document.createElement('div'); cell.className='cell'+(g.block?' block':'');
          if(!g.block){
            const inp=document.createElement('input'); inp.maxLength=1; inp.dataset.r=r; inp.dataset.c=c; cell.appendChild(inp); g.cell=inp;
            if(g.num){ const num=document.createElement('div'); num.className='num'; num.textContent=g.num; cell.appendChild(num); }
          }
          boardEl.appendChild(cell);
        }
      }
    }
    const acrossEl=document.getElementById('cluesAcross');
    const downEl  =document.getElementById('cluesDown');
    function renderClues(across,down){
      function mk(list,target){
        target.innerHTML='';
        for(const c of list){
          const el=document.createElement('div'); el.className='clue'; el.tabIndex=0; el.dataset.num=c.num; el.dataset.ans=c.answer;
          el.innerHTML=`<span class="n">${c.num}</span>${c.clue}`;
          el.addEventListener('click',()=>focusClue(c));
          target.appendChild(el);
        }
      }
      mk(across,acrossEl); mk(down,downEl);
    }

    // ========= Interaction =========
    let direction='across';
    function clearHighlights(){ document.querySelectorAll('.cell input').forEach(i=>{i.classList.remove('current');i.classList.remove('highlight')}); }
    function getWordCells(r,c){
      const cells=[]; if(direction==='across'){ let cc=c; while(cc>=0 && !grid[r][cc].block) cc--; cc++; while(cc<W && !grid[r][cc].block){ cells.push([r,cc]); cc++; }
      }else{ let rr=r; while(rr>=0 && !grid[rr][c].block) rr--; rr++; while(rr<H && !grid[rr][c].block){ cells.push([rr,c]); rr++; } }
      return cells;
    }
    function focusCell(r,c){
      const g=grid[r][c]; if(!g||g.block) return;
      clearHighlights();
      for(const [rr,cc] of getWordCells(r,c)) grid[rr][cc].cell?.classList.add('highlight');
      g.cell?.classList.add('current'); g.cell?.focus();
    }
    function move(delta){
      const a=document.activeElement; if(!(a&&a.tagName==='INPUT')) return;
      let r=+a.dataset.r, c=+a.dataset.c;
      if(direction==='across') c+=delta; else r+=delta;
      while(r>=0&&c>=0&&r<H&&c<W && grid[r][c].block){ if(direction==='across') c+=Math.sign(delta); else r+=Math.sign(delta); }
      if(r>=0&&c>=0&&r<H&&c<W && !grid[r][c].block) focusCell(r,c);
    }
    function focusClue(c){
      for(let r=0;r<H;r++) for(let t=0;t<W;t++) if(grid[r][t].num===c.num){
        const acrossStart=(!grid[r][t-1]||grid[r][t-1].block) && (grid[r][t+1]&&!grid[r][t+1].block);
        direction = acrossStart ? 'across' : 'down'; focusCell(r,t); return;
      }
    }

    boardEl.addEventListener('keydown',e=>{
      const a=document.activeElement; if(!(a&&a.tagName==='INPUT')) return;
      if(e.key==='ArrowRight'){ direction='across'; move(1); e.preventDefault(); }
      else if(e.key==='ArrowLeft'){ direction='across'; move(-1); e.preventDefault(); }
      else if(e.key==='ArrowDown'){ direction='down'; move(1); e.preventDefault(); }
      else if(e.key==='ArrowUp'){ direction='down'; move(-1); e.preventDefault(); }
      else if(e.key===' '){ direction=direction==='across'?'down':'across'; e.preventDefault(); focusCell(+a.dataset.r,+a.dataset.c); }
      else if(e.key==='Backspace'){ a.value=''; move(-1); e.preventDefault(); saveProgress(); }
    });
    boardEl.addEventListener('input',e=>{
      const a=e.target; if(!(a&&a.tagName==='INPUT')) return;
      a.value=a.value.toUpperCase().replace(/[^A-Z0-9]/g,''); move(1); saveProgress();
    });

    // ========= Buttons =========
    const statusEl=document.getElementById('status');
    document.getElementById('btnCheck').onclick=()=>{
      let correct=0,total=0;
      for(let r=0;r<H;r++)for(let c=0;c<W;c++){
        const g=grid[r][c]; if(g.block||!g.cell) continue; total++;
        const good=(g.cell.value.toUpperCase()===g.ch);
        g.cell.style.background = good ? '#dcfce7' : (g.cell.value ? '#fee2e2' : 'var(--cell)');
        g.cell.style.borderColor = good ? '#16a34a' : (g.cell.value ? '#b91c1c' : '#d1d5db');
        if(good) correct++;
      }
      const pct=total?Math.round(100*correct/total):0;
      statusEl.textContent=`Richtig: ${correct}/${total} (${pct}%)`;
    };
    document.getElementById('btnRevealLetter').onclick=()=>{
      const a=document.activeElement; if(!(a&&a.tagName==='INPUT')) return;
      const r=+a.dataset.r,c=+a.dataset.c; a.value=grid[r][c].ch; move(1); saveProgress();
    };
    document.getElementById('btnRevealWord').onclick=()=>{
      const a=document.activeElement; if(!(a&&a.tagName==='INPUT')) return;
      const r=+a.dataset.r,c=+a.dataset.c; for(const [rr,cc] of getWordCells(r,c)){ grid[rr][cc].cell.value=grid[rr][cc].ch; } saveProgress();
    };
    document.getElementById('btnClear').onclick=()=>{
      document.querySelectorAll('.cell input').forEach(i.value='');
      saveProgress();
    };
    document.getElementById('btnShare').onclick=()=>{
      const url=location.href.split('#')[0]; navigator.clipboard.writeText(url).then(()=>{ statusEl.textContent='Link kopiert!'; });
    };

    // ========= Fortschritt speichern =========
    function saveProgress(){
      const state={};
      document.querySelectorAll('.cell input').forEach(i=>{
        if(i.value) state[i.dataset.r+','+i.dataset.c]=i.value;
      });
      localStorage.setItem('crosswordState',JSON.stringify(state));
    }
    function loadProgress(){
      const raw=localStorage.getItem('crosswordState'); if(!raw) return;
      const state=JSON.parse(raw);
      document.querySelectorAll('.cell input').forEach(i=>{
        const k=i.dataset.r+','+i.dataset.c; if(state[k]) i.value=state[k];
      });
    }

    // ========= Init =========
    const {acrossClues,downClues,unplaced}=generate();
    renderBoard();
    renderClues(acrossClues,downClues);
    loadProgress();
    if(unplaced.length) console.warn('Nicht platzierte WÃ¶rter:',unplaced.map(u=>u.raw));
  </script>
</body>
</html>
